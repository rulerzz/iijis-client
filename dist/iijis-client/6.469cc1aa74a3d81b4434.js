(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{xdH6:function(i,s,n){"use strict";n.r(s),n.d(s,"ArchivesModule",function(){return g});var t=n("ofXK"),e=n("fXoL"),o=n("RZXS"),c=n("am9W"),b=n("jhN1");function l(i,s){if(1&i){const i=e.Vb();e.Ub(0,"li"),e.Dc(1),e.Ub(2,"i",15),e.Ub(3,"a",16),e.bc("click",function(){e.vc(i);const n=s.$implicit;return e.fc(3).download(n)}),e.Dc(4,"Download"),e.Tb(),e.Tb(),e.Tb()}if(2&i){const i=s.$implicit;e.Cb(1),e.Gc("",null==i?null:i.title," by ",null==i?null:i.author," ")}}function r(i,s){if(1&i&&(e.Ub(0,"div",5),e.Ub(1,"div",6),e.Ub(2,"div",7),e.Ub(3,"figure",8),e.Ub(4,"div",9),e.Ub(5,"div",10),e.Pb(6,"img",11),e.Tb(),e.Tb(),e.Tb(),e.Tb(),e.Tb(),e.Ub(7,"div",6),e.Ub(8,"div",12),e.Ub(9,"h1"),e.Dc(10),e.Tb(),e.Ub(11,"div",13),e.Ub(12,"p"),e.Dc(13),e.Tb(),e.Tb(),e.Tb(),e.Ub(14,"ul"),e.Cc(15,l,5,2,"li",14),e.Tb(),e.Tb(),e.Tb()),2&i){const i=s.$implicit,n=e.fc(2);e.Cb(6),e.lc("src",n.getimage(i),e.xc),e.Cb(4),e.Ec(null==i?null:i.title),e.Cb(3),e.Ec(null==i?null:i.description),e.Cb(2),e.lc("ngForOf",null==i?null:i.submissions)}}function a(i,s){if(1&i&&(e.Ub(0,"div",2),e.Ub(1,"div",3),e.Cc(2,r,16,4,"div",4),e.Tb(),e.Tb()),2&i){const i=e.fc();e.Cb(2),e.lc("ngForOf",i.issues)}}function u(i,s){1&i&&(e.Ub(0,"h3",17),e.Dc(1,"No Releases Found :("),e.Tb())}let d=(()=>{class i{constructor(i,s,n){this.submissionService=i,this.config=s,this.sanitizer=n,this.issues=[],this.imagesToShow=[]}ngOnInit(){this.submissionService.releases().subscribe(i=>{null===i.body.data?this.issues=null:(this.issues=i.body.data,this.issues.forEach(i=>{this.loadimage(i.id)}))})}loadimage(i){this.submissionService.getImage(i).subscribe(s=>{let n=URL.createObjectURL(s),t=this.sanitizer.bypassSecurityTrustUrl(n);this.imagesToShow.push({id:i,image:t})},i=>{console.log(i)})}download(i){window.open(this.config.apiPath+"submission/file/"+i.id,"_blank")}getimage(i){return this.imagesToShow.find(s=>s.id===i.id).image}}return i.\u0275fac=function(s){return new(s||i)(e.Ob(o.a),e.Ob(c.a),e.Ob(b.b))},i.\u0275cmp=e.Ib({type:i,selectors:[["app-archives"]],decls:2,vars:2,consts:[["id","sj-homebanner","class","sj-homebanner",4,"ngIf"],["class","text-center",4,"ngIf"],["id","sj-homebanner",1,"sj-homebanner"],[1,"container"],["class","row","style","margin-bottom:30px !important;overflow: hidden;",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","30px !important","overflow","hidden"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],[1,"sj-postbook"],[1,"sj-featureimg"],[1,"sj-bookimg"],[1,"sj-frontcover"],[3,"src"],[1,"sj-bannercontent"],[1,"sj-description"],[4,"ngFor","ngForOf"],[1,"fa","fa-download"],["href","javascript:void(0);",3,"click"],[1,"text-center"]],template:function(i,s){1&i&&(e.Cc(0,a,3,1,"div",0),e.Cc(1,u,2,0,"h3",1)),2&i&&(e.lc("ngIf",s.issues.length>0),e.Cb(1),e.lc("ngIf",0==s.issues.length))},directives:[t.l,t.k],styles:["img[_ngcontent-%COMP%]{max-width:418px}"]}),i})();var f=n("tyNb"),h=n("PCNd");const m=[{path:"",component:d}];let g=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.Mb({type:i}),i.\u0275inj=e.Lb({imports:[[t.c,h.a,f.g.forChild(m)]]}),i})()}}]);